# StackChanWithScratch
ここ数年、山梨テクノICTメッセで展示しているスタックチャンに関する資料です。

## スタックチャンとは
スタックチャンは、 meganetaaan氏によりM5Stackで作られたロボットです。
https://github.com/stack-chan/stack-chan/blob/dev/v1.0/README_ja.md

## 山梨テクノICTメッセでのデモ
山梨テクノICTメッセでは、このスタックチャンをScratchで制御するデモを毎年行っています。

Scratchは公式サイトのものをそのまま使うようにしており、スタックチャンとの接続について毎年いろいろ変えています。
なお、Scratch側のプログラムでは公式の micro:bit 拡張を使ってスタックチャンとのやり取りを行っています。

### 2022年,2023年
M5StickV で顔認識し、その情報をもとにスタックチャンをScratchで制御するデモを行いました。
Scratchとの接続のためにScratchLinkを偽装したPythonプログラムを作り、スタックチャンとシリアル通信で接続しました。

## 2024年
偽装したScratchLinkで、スタックチャンとの接続をシリアル通信からMQTTに変更し、MQTTブローカーを通じてトピックメッセージをやり取りすることで双方向に通信しています。

## 2025年
ScratchLinkを偽装せずに公式のものをそのまま使う一方、スタックチャン側でBLE接続を行うようにしました。
これによりPC側の追加プログラム無しで、Scratchからスタックチャンを制御できるようになりました。
